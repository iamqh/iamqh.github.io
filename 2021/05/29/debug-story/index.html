<!DOCTYPE html>
<html lang=vi>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <meta name="description" content="Hôm trước tester có report cho mình một lỗi đó là khi đã thanh toán thành công rồi mà trên app mobile lại hiện là hoá đơn không hợp lệ. Nghe có vẻ magic . Nào, cùng bắt đầu hành trình tìm cái ngu của">
<meta property="og:type" content="article">
<meta property="og:title" content="Câu chuyện debug">
<meta property="og:url" content="iamqh.github.io/2021/05/29/debug-story/index.html">
<meta property="og:site_name" content="iamqh">
<meta property="og:description" content="Hôm trước tester có report cho mình một lỗi đó là khi đã thanh toán thành công rồi mà trên app mobile lại hiện là hoá đơn không hợp lệ. Nghe có vẻ magic . Nào, cùng bắt đầu hành trình tìm cái ngu của">
<meta property="og:locale" content="vi_VN">
<meta property="og:image" content="/assets/debug_overview.png">
<meta property="article:published_time" content="2021-05-29T00:53:49.000Z">
<meta property="article:modified_time" content="2021-05-29T08:38:16.190Z">
<meta property="article:author" content="Hoa Pham">
<meta property="article:tag" content="iOS">
<meta property="article:tag" content="chem-gio">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="/assets/debug_overview.png">
    
    
        
          
              <link rel="shortcut icon" href="/images/favicon.ico">
          
        
        
          
            <link rel="icon" type="image/png" href="/images/favicon-192x192.png" sizes="192x192">
          
        
        
          
            <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
          
        
    
    <!-- title -->
    <title>Câu chuyện debug</title>
    <!-- styles -->
    
<link rel="stylesheet" href="/css/style.css">

    <!-- persian styles -->
    
      
<link rel="stylesheet" href="/css/rtl.css">

    
    <!-- rss -->
    
    
<meta name="generator" content="Hexo 4.2.1"></head>

<body class="max-width mx-auto px3 ltr">
    
      <div id="header-post">
  <a id="menu-icon" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fas fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
         
          <li><a href="/">Trang chủ</a></li>
         
          <li><a href="/archives/">Bài viết</a></li>
         
          <li><a href="/tags/">Tag</a></li>
         
          <li><a href="/about/">Giới thiệu</a></li>
        
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li><a class="icon" href="/2021/08/03/comment-story/"><i class="fas fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i></a></li>
        
        
        <li><a class="icon" href="/2021/05/14/messenger-emoji/"><i class="fas fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" href="#"><i class="fas fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
        <li>
          <div id="footer-theme" onmouseover="$('#i-toggle').toggle();" onmouseout="$('#i-toggle').toggle();">
            <input type="checkbox" id="theme-switch">
            <label for="theme-switch"></label>
        </div>
        </li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Bài trước</span>
      <span id="i-next" class="info" style="display:none;">Bài tiếp theo</span>
      <span id="i-top" class="info" style="display:none;">Về đầu trang</span>
      <span id="i-share" class="info" style="display:none;">Chia sẻ bài viết</span>
      <span id="i-toggle" class="info" style="display:none;">Dark/Light mode</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" href="http://www.facebook.com/sharer.php?u=iamqh.github.io/2021/05/29/debug-story/" target="_blank" rel="noopener"><i class="fab fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://twitter.com/share?url=iamqh.github.io/2021/05/29/debug-story/&text=Câu chuyện debug" target="_blank" rel="noopener"><i class="fab fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.linkedin.com/shareArticle?url=iamqh.github.io/2021/05/29/debug-story/&title=Câu chuyện debug" target="_blank" rel="noopener"><i class="fab fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=iamqh.github.io/2021/05/29/debug-story/&is_video=false&description=Câu chuyện debug" target="_blank" rel="noopener"><i class="fab fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=Câu chuyện debug&body=Check out this article: iamqh.github.io/2021/05/29/debug-story/"><i class="fas fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://getpocket.com/save?url=iamqh.github.io/2021/05/29/debug-story/&title=Câu chuyện debug" target="_blank" rel="noopener"><i class="fab fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://reddit.com/submit?url=iamqh.github.io/2021/05/29/debug-story/&title=Câu chuyện debug" target="_blank" rel="noopener"><i class="fab fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.stumbleupon.com/submit?url=iamqh.github.io/2021/05/29/debug-story/&title=Câu chuyện debug" target="_blank" rel="noopener"><i class="fab fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://digg.com/submit?url=iamqh.github.io/2021/05/29/debug-story/&title=Câu chuyện debug" target="_blank" rel="noopener"><i class="fab fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.tumblr.com/share/link?url=iamqh.github.io/2021/05/29/debug-story/&name=Câu chuyện debug&description=" target="_blank" rel="noopener"><i class="fab fa-tumblr " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://news.ycombinator.com/submitlink?u=iamqh.github.io/2021/05/29/debug-story/&t=Câu chuyện debug" target="_blank" rel="noopener"><i class="fab fa-hacker-news " aria-hidden="true"></i></a></li>
</ul>

    </div>
    <div id="toc">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Hieu-van-de"><span class="toc-number">1.</span> <span class="toc-text">Hiểu vấn đề</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Tim-hieu-nguyen-nhan"><span class="toc-number">2.</span> <span class="toc-text">Tìm hiểu nguyên nhân</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Phan-tich-nguyen-nhan"><span class="toc-number">3.</span> <span class="toc-text">Phân tích nguyên nhân</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Cung-di-fix-bug"><span class="toc-number">4.</span> <span class="toc-text">Cùng đi fix bug</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Ket"><span class="toc-number">5.</span> <span class="toc-text">Kết</span></a></li></ol>
    </div>
  </span>
</div>

    
    <div class="content index py4">
        
        <!-- <div class="button_scroll2top" onclick="page_scroll2top()">
  <i class="fa fa-angle-up fa-lg fa-angle-style"></i>
</div> -->
<!-- <div class="scroll-top-wrapper" onclick="page_scroll2top()">
	<span class="scroll-top-inner">
		<i class="fas fa-angle-double-up fa-2x"></i>
	</span>
</div> -->
<article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle" itemprop="name headline">
        Câu chuyện debug
    </h1>



      <div class="meta">
        <span class="author" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <span itemprop="name">
            
                  iamqh
                    
          </span>
        </span>
        
    <div class="postdate">
      
        <time datetime="2021-05-29T00:53:49.000Z" itemprop="datePublished">2021-05-29</time>
        
      
    </div>


          

            
    <div class="article-tag">
        <i class="fas fa-tag"></i>
        <a class="tag-link" href="/tags/chem-gio/" rel="tag">chem-gio</a>, <a class="tag-link" href="/tags/iOS/" rel="tag">iOS</a>
    </div>


              <div class="article-tag">
                <i class="fas fa-book"></i>
                5 min. read
              </div>
      </div>
  </header>
  

    <div class="content" itemprop="articleBody">
      <p>Hôm trước tester có report cho mình một lỗi đó là khi đã thanh toán thành công rồi mà trên app mobile lại hiện là hoá đơn không hợp lệ. Nghe có vẻ magic <i class='em em-slightly_smiling_face'></i>. Nào, cùng bắt đầu hành trình tìm cái ngu của bản thân nào!</p>
<h2 id="Hieu-van-de"><a href="#Hieu-van-de" class="headerlink" title="Hiểu vấn đề"></a>Hiểu vấn đề</h2><p>Bước đầu tiên là cần phải hiểu vấn đề đã. Nếu trên client báo lỗi như vậy thì có 2 khả năng</p>
<ul>
<li>Lỗi server</li>
<li>Lỗi client (cụ thể ở đây là app iOS)</li>
</ul>
<p>Tuy nhiên, bên Android vẫn chạy được đúng, nên là có vẻ khả năng mình code ngu nó đã hiện hữu rồi đấy <i class='em em-sob'></i>. Giờ phải xem là mình đang code ngu chỗ nào.</p>
<h2 id="Tim-hieu-nguyen-nhan"><a href="#Tim-hieu-nguyen-nhan" class="headerlink" title="Tìm hiểu nguyên nhân"></a>Tìm hiểu nguyên nhân</h2><p>Có vẻ đây là lỗi khi client call API lên server. Từ khi được khai sáng thì công cụ mình hay dùng nhất để xem client đã gửi những gì lên server đó là <a href="https://proxyman.io/" target="_blank" rel="noopener">Proxyman</a>. Cắm Proxyman vào trong simulator, thanh toán thử 1 lần. Ồ, mọi thứ mượt mà, không thấy lỗi liếc gì cả. Nghe có vẻ khoai.</p>
<p>Mình nhờ tester tái hiện lại lỗi. Hoá ra, lỗi chỉ xảy ra khi mình chưa thanh toán luôn mà chọn lại danh sách hoá đơn rồi mới thanh toán. Kết quả là Proxyman bắt được 2 request thanh toán từ client đến server cho 2 danh sách hoá đơn khác nhau. </p>
<p>Vậy là có thể chắc chắn là do mình code ngu rồi <i class='em em-sweat_smile'></i>. Sửa sai thôi</p>
<h2 id="Phan-tich-nguyen-nhan"><a href="#Phan-tich-nguyen-nhan" class="headerlink" title="Phân tích nguyên nhân"></a>Phân tích nguyên nhân</h2><p>Trước hết thì mình cùng đảo qua flow của phần thanh toán này chút nhé.</p>
<p><img src="/assets/debug_overview.png" alt=""></p>
<p>Hmm, nhìn vào sơ đồ bên trên và với thực tế bị duplicate API thì có vẻ lỗi nằm ở phần Notification Center. Và ở trong AppDelegate mình chỉ sử dụng đúng 1 tên duy nhất để thông báo. Vì vậy, rất có thể là đã có nhiều hơn 1 instance đã lắng nghe và gửi request lên server. Nhưng mà chỉ có duy nhất màn hình Payment là “hứng” cái thông báo đó thôi. Từ đó mình dự đoán màn hình Payment đang có vấn đề với Notification Center <i class='em em-fearful'></i></p>
<h2 id="Cung-di-fix-bug"><a href="#Cung-di-fix-bug" class="headerlink" title="Cùng đi fix bug"></a>Cùng đi fix bug</h2><p>Thông thường, trong 1 ViewController đang observe 1 Notification, chúng ta sẽ bắt đầu lắng nghe khi viewDidAppear và dừng lắng nghe khi viewDidDisapear. Nhưng app hiện tại thì mình sử dụng RxSwift, gói hết chúng vào 1 DisposeBag, nó sẽ được giải phóng đồng thời cùng với ViewController. Vì vậy có thể bug xuất hiện do ViewController đã không deinit đúng như mong đợi, hay nói 1 cách đơn giản là mình code ngu nên bị leak memory cmnr <i class='em em-joy'></i></p>
<p>Mình thử đặt log vào hàm deinit của màn hình Payment thì không thấy nó in ra. Nghĩa là mình dự đoán đã chính xác <i class='em em-sunglasses'></i>. Okay, vậy thì đi fix bug thôi</p>
<p>Không nằm ngoài dự đoán, nguyên nhân bị leak memory là do retain cycle trong các closure. Cách đơn giản để fix chúng là thêm <code>[weak self]</code> mà thôi. Giờ sửa lại rồi chạy thử xem sao. Kết quả là phần log của deinit đã hiện. Giờ test thử theo luồng mà tester cung cấp. Tuyệt vời, không thấy bị nữa, Proxyman cũng chỉ bắt được 1 request mà thôi. Có vẻ mình đã xử gọn được con bug này rồi <i class='em em-joy'></i></p>
<h2 id="Ket"><a href="#Ket" class="headerlink" title="Kết"></a>Kết</h2><p>Đấy, thế mới thấy là leak memory ngoài việc ảnh hưởng đến hiệu năng của ứng dụng nó còn làm sai cả business nữa. Nghiêm trọng quá. Thôi, cũng coi như có thêm tí kinh nghiệm để lần sau code bớt ngu đi <i class='em em-joy'></i></p>

    </div>
</article>



  <div class="comments">
    <div id="comment-loading" class="loading"></div>
    <div id="login-box" class="login">
      Bạn nghĩ như thế nào về bài viết này?<br /><button onclick="login()">Tham gia bình luận</button>
      <div class="copyright">Chức năng này cần liên kết với tài khoản Google<br />Nếu không thích thì có thể comment
        <button onclick="goninja()">Nặc danh</button>
      </div>
    </div>
    <div id="comment-box" class="comment-input">
      <div class="avatar">
        <img id="user-avatar" src="" width="32" height="32" />
      </div>
      <div class="input">
        <textarea id="comment-content" onkeyup="autoSizing(this)" onkeydown="submitComment(event)"
          placeholder="Comment gõ vào đây :D"></textarea>
        <span>Gõ xong nhấn <code>Ctrl</code> + <code>Enter</code> để gửi. Bạn không thể xóa comment sau khi gửi.</span>
        <button id="comment-button" onclick="submitData()">Gửi</button>
      </div>
    </div>
    <ul id="comment-list" class="comment-list"></ul>
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jQuery-linkify/2.1.9/linkify.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jQuery-linkify/2.1.9/linkify-jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jQuery-linkify/2.1.9/linkify-html.min.js" integrity="sha512-utRbYaR9KdGo5zyscXAOomJjy8nOGc4IhDcCO4NjrkpXE14lmkvnC0TPrsRXfk+EIvf2cEMXQI2jEpSNh/jGvA==" crossorigin="anonymous"></script>

  <script src="https://www.gstatic.com/firebasejs/8.5.0/firebase-app.js"></script>
  <!-- If you enabled Analytics in your project, add the Firebase SDK for Analytics -->
  <script src="https://www.gstatic.com/firebasejs/8.5.0/firebase-analytics.js"></script>

  <!-- Add Firebase products that you want to use -->
  <script src="https://www.gstatic.com/firebasejs/8.5.0/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.5.0/firebase-firestore.js"></script>
  <script>let postSlug = "2021/05/29/debug-story/".match(/[^\/]+/g).pop()</script>
  <script>
    // Initialize Firebase
    var firebaseConfig = {
      apiKey: "AIzaSyDSOP8BJBidyNm2L_VYuz_zkWxXoNNQENE",
      authDomain: "iamqh-2d10b.firebaseapp.com",
      projectId: "iamqh-2d10b",
      storageBucket: "iamqh-2d10b.appspot.com",
      messagingSenderId: "172572963962",
      appId: "1:172572963962:web:c4611bebbaefeaf38537c3",
      measurementId: "G-MR4X23L858"
    };

    firebase.initializeApp(firebaseConfig);
    var provider = new firebase.auth.GoogleAuthProvider();
    var auth = firebase.auth();
    var currentUser = null;
    var db = firebase.firestore();

    var updateAuth = function (user) {
      document.getElementById("comment-loading").style.display = "none";
      if (user) {
        currentUser = user;
        // Logged in
        document.getElementById("login-box").style.display = "none";
        document.getElementById("comment-box").style.display = "flex";
        document.getElementById("user-avatar").setAttribute("src", user.photoURL);
      } else {
        // Not login yet
        document.getElementById("comment-box").style.display = "none";
        document.getElementById("login-box").style.display = "block";
      }
    };

    auth.onAuthStateChanged(function (user) {
      updateAuth(user);
    });

    var login = function () {
      auth.signInWithPopup(provider)
        .then(function (result) {
        }).catch(function (err) {
        });
    };

    var goninja = function () {
      updateAuth({
        displayName: "Không Tên",
        photoURL: "https://i.imgur.com/03lrXKb.png"
      });
    };

    var encodeHTML = function (s) {
      return s.replace(/</g, '&lt;').replace(/"/g, '&quot;').replace(/>/g, '&gt;');
    };

    var saveNewComment = function (comment) {
      if (!currentUser) {
        return;
      }
      var commentData = {
        username: currentUser.displayName,
        avatar: currentUser.photoURL,
        post_time: ~~((new Date()).getTime() / 1000),
        message: encodeHTML(comment),
        slug: postSlug
      };

      db.collection("comments")
        .add(commentData)
        .then(() => {
          addNewComment(commentData.username, commentData.avatar, commentData.post_time, commentData.message);
        })

      // fetch(postCommentURL, {
      //   method: 'post',
      //   headers: {
      //     "Content-Type": "application/json"
      //   },
      //   body: JSON.stringify(commentData)
      // }).then((result) => {
      //   if (result.status === 200) {

      //   }
      // });

      document.getElementById("comment-content").value = "";
    };

    function debounce(func, wait, immediate) {
      var timeout;
      return function () {
        var context = this, args = arguments;
        var later = function () {
          timeout = null;
          if (!immediate) func.apply(context, args);
        };
        var callNow = immediate && !timeout;
        clearTimeout(timeout);
        timeout = setTimeout(later, wait);
        if (callNow) func.apply(context, args);
      };
    };

    var submitData = debounce(function () {
      var comment = document.getElementById("comment-content").value;
      if (comment.length) {
        saveNewComment(comment);
      }
    }, 250);

    var submitComment = function (e) {
      var keyCode = e.which || e.keyCode;
      var ctrlCode = e.ctrlKey || e.metaKey;
      if (keyCode === 13 && ctrlCode) {
        submitData();
      }
    };

    var filterNewlineInComment = function (t) {
      return t.replace(/\n/g, "<br/>");
    };

    var filterURLinComment = function (comment) {
      return comment.replace(/(https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|www\.[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9]\.[^\s]{2,}|www\.[a-zA-Z0-9]\.[^\s]{2,})/g, "<a target='_blank' rel='noopener noreferrer' href='$1'>$1</a>");
    };

    var addNewComment = function (user, avatar, time, comment) {
      var commentFiltered = encodeHTML(comment);
      commentFiltered = filterNewlineInComment(linkifyHtml(commentFiltered));
      var d = new Date(time * 1000);
      var commentTime = d.toLocaleTimeString() + ' ' + d.toLocaleDateString();
      var html = '<div class="avatar">' +
        '   <img src="' + avatar + '" width="32" height="32"/>' +
        ' </div>' +
        '<div class="comment tex2jax_ignore">' +
        '  <div class="metadata"><b>' + encodeHTML(user) + '</b> lúc <span>' + commentTime + '</span></div>' +
        '  <div class="content">' + commentFiltered
      '  </div>' +
        '</div>';
      var li = document.createElement('li');
      li.innerHTML = html;
      document.getElementById("comment-list").append(li);
    };

    // Fetch comment and put to posts
    // fetch(postCommentURL)
    //   .then(res => res.json())
    //   .then(data => {
    //     if (data.comments) {
    //       let comments = data.comments;
    //       comments.sort((a, b) => a.post_time - b.post_time);
    //       for (let i = 0; i < comments.length; i++) {
    //         let cmt = comments[i];
    //         addNewComment(cmt.username, cmt.avatar, cmt.post_time, cmt.message);
    //       }
    //     }
    //   });
    db.collection("comments")
      .where("slug", "==", postSlug)
      .get()
      .then(data => {
        if (data) {
          let comments = [];
          data.forEach(item => {
            comments.push(item.data())
          })
          comments.sort((a, b) => a.post_time - b.post_time);
          for (let i = 0; i < comments.length; i++) {
            let cmt = comments[i];
            addNewComment(cmt.username, cmt.avatar, cmt.post_time, cmt.message);
          }
        }
      })
  </script>
        
          <div class="scroll-top-wrapper" onclick="page_scroll2top()">
	<span class="scroll-top-inner">
		<i class="fas fa-angle-double-up fa-lg"></i>
	</span>
</div>
<div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/">Trang chủ</a></li>
         
          <li><a href="/archives/">Bài viết</a></li>
         
          <li><a href="/tags/">Tag</a></li>
         
          <li><a href="/about/">Giới thiệu</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display: none">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Hieu-van-de"><span class="toc-number">1.</span> <span class="toc-text">Hiểu vấn đề</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Tim-hieu-nguyen-nhan"><span class="toc-number">2.</span> <span class="toc-text">Tìm hiểu nguyên nhân</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Phan-tich-nguyen-nhan"><span class="toc-number">3.</span> <span class="toc-text">Phân tích nguyên nhân</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Cung-di-fix-bug"><span class="toc-number">4.</span> <span class="toc-text">Cùng đi fix bug</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Ket"><span class="toc-number">5.</span> <span class="toc-text">Kết</span></a></li></ol>
    </div>

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" href="http://www.facebook.com/sharer.php?u=iamqh.github.io/2021/05/29/debug-story/" target="_blank" rel="noopener"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://twitter.com/share?url=iamqh.github.io/2021/05/29/debug-story/&text=Câu chuyện debug" target="_blank" rel="noopener"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.linkedin.com/shareArticle?url=iamqh.github.io/2021/05/29/debug-story/&title=Câu chuyện debug" target="_blank" rel="noopener"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=iamqh.github.io/2021/05/29/debug-story/&is_video=false&description=Câu chuyện debug" target="_blank" rel="noopener"><i class="fab fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=Câu chuyện debug&body=Check out this article: iamqh.github.io/2021/05/29/debug-story/"><i class="fas fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://getpocket.com/save?url=iamqh.github.io/2021/05/29/debug-story/&title=Câu chuyện debug" target="_blank" rel="noopener"><i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://reddit.com/submit?url=iamqh.github.io/2021/05/29/debug-story/&title=Câu chuyện debug" target="_blank" rel="noopener"><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.stumbleupon.com/submit?url=iamqh.github.io/2021/05/29/debug-story/&title=Câu chuyện debug" target="_blank" rel="noopener"><i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://digg.com/submit?url=iamqh.github.io/2021/05/29/debug-story/&title=Câu chuyện debug" target="_blank" rel="noopener"><i class="fab fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.tumblr.com/share/link?url=iamqh.github.io/2021/05/29/debug-story/&name=Câu chuyện debug&description=" target="_blank" rel="noopener"><i class="fab fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://news.ycombinator.com/submitlink?u=iamqh.github.io/2021/05/29/debug-story/&t=Câu chuyện debug" target="_blank" rel="noopener"><i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fas fa-bars fa-lg" aria-hidden="true"></i><br>Menu</a>
        <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fas fa-list fa-lg" aria-hidden="true"></i><br>TOC</a>
        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fas fa-share-alt fa-lg" aria-hidden="true"></i><br>Chia sẻ</a>
        <a id="footer-theme" class="icon">
          <input type="checkbox" id="theme-switch">
          <label for="theme-switch"></label>
          <br>
          Dark/Light mode
        </a>
        <!-- <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up fa-lg" aria-hidden="true"></i><br>Về đầu trang</a> -->
    </div>

  </div>
</div>

        
        <footer id="footer">
  <div class="footer-left">
    Bản quyền &copy;
    
    
    2021
    Hoa Pham
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
          <li><a href="/">Trang chủ</a></li>
         
          <li><a href="/archives/">Bài viết</a></li>
         
          <li><a href="/tags/">Tag</a></li>
         
          <li><a href="/about/">Giới thiệu</a></li>
        
      </ul>
    </nav>
  </div>
</footer>

    </div>
    <!-- styles -->

<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">


<link rel="stylesheet" href="/lib/justified-gallery/css/justifiedGallery.min.css">


<link rel="stylesheet" href="/emoji/css/messenger.min.css">


<link rel="stylesheet" href="/emoji/css/thinking.ext.css">

    <!-- jquery -->

<script src="/lib/jquery/jquery.min.js"></script>


<script src="/lib/justified-gallery/js/jquery.justifiedGallery.min.js"></script>

<!-- clipboard -->

  
<script src="/lib/clipboard/clipboard.min.js"></script>

  <script type="text/javascript">
  $(function() {
    // copy-btn HTML
    var btn = "<span class=\"btn-copy tooltipped tooltipped-sw\" aria-label=\"In die Zwischenablage kopiert!\">";
    btn += '<i class="far fa-clone"></i>';
    btn += '</span>'; 
    // mount it!
    $(".highlight table").before(btn);
    var clip = new ClipboardJS('.btn-copy', {
      text: function(trigger) {
        return Array.from(trigger.nextElementSibling.querySelectorAll('.code')).reduce((str,it)=>str+it.innerText+'\n','')
      }
    });
    clip.on('success', function(e) {
      e.trigger.setAttribute('aria-label', "Kopiert!");
      e.clearSelection();
    })
  })
  </script>


<script src="/js/main.js"></script>

<!-- search -->

<!-- Google Analytics -->

<!-- Baidu Analytics -->

<!-- Disqus Comments -->


</body>
</html>
